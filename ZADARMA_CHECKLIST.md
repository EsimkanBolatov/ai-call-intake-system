# ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –ù–ê–°–¢–†–û–ô–ö–ò ZADARMA

## üìã –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û

- [x] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ Zadarma
- [x] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker
- [x] –°–∫–∞—á–∞–Ω –ø—Ä–æ–µ–∫—Ç AI Call Intake System

## üöÄ –®–ê–ì–ò –î–õ–Ø –ó–ê–ü–£–°–ö–ê

### 1Ô∏è‚É£ –ó–ê–ü–£–°–¢–ò–¢–ï –°–ò–°–¢–ï–ú–£

```bash
cd ai-call-intake-system
chmod +x run_local_free.sh
./run_local_free.sh start
```

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000 (–¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

### 2Ô∏è‚É£ –ù–ê–°–¢–†–û–ô–¢–ï ZADARMA

```bash
chmod +x setup_zadarma.sh
./setup_zadarma.sh
```

üìã **–ß—Ç–æ –≤–≤–µ—Å—Ç–∏:**

- **SIP ID**: –ò–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ Zadarma (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1234567)
- **SIP –ü–∞—Ä–æ–ª—å**: –ò–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ SIP (—Å–∫—Ä—ã—Ç—ã–π)

### 3Ô∏è‚É£ –ü–†–û–í–ï–†–¨–¢–ï –†–ï–ì–ò–°–¢–†–ê–¶–ò–Æ

```bash
docker exec ai-call-local-asterisk asterisk -rx "sip show registry"
```

‚úÖ **–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å**: `Registered` —Ä—è–¥–æ–º —Å zadarma

### 4Ô∏è‚É£ –û–¢–ö–†–û–ô–¢–ï –ü–û–†–¢–´ –ù–ê –†–û–£–¢–ï–†–ï

**–ï—Å–ª–∏ –∑–≤–æ–Ω–∫–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ:
   - **5060 UDP** ‚Üí –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π IP
   - **10000-20000 UDP** ‚Üí –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π IP
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok (–ø—Ä–æ—â–µ):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok
curl -s https://ngrok-agent.s3.amazonaws.com/ngrok.asc | sudo tee /etc/apt/trusted.gpg.d/ngrok.asc >/dev/null
echo "deb https://ngrok-agent.s3.amazonaws.com buster main" | sudo tee /etc/apt/sources.list.d/ngrok.list
sudo apt update && sudo apt install ngrok

# –°–æ–∑–¥–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å
ngrok config add-authtoken –≤–∞—à-—Ç–æ–∫–µ–Ω
ngrok udp 5060
```

3. –í Zadarma —É–∫–∞–∂–∏—Ç–µ ngrok –∞–¥—Ä–µ—Å –∫–∞–∫ SIP —Å–µ—Ä–≤–µ—Ä

### 5Ô∏è‚É£ –ü–†–û–¢–ï–°–¢–ò–†–£–ô–¢–ï –ó–í–û–ù–û–ö

**–í–∞—Ä–∏–∞–Ω—Ç 1:** –ü–æ–∑–≤–æ–Ω–∏—Ç–µ —Å –¥—Ä—É–≥–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞ –≤–∞—à Zadarma –Ω–æ–º–µ—Ä

**–í–∞—Ä–∏–∞–Ω—Ç 2:** –¢–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫ –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã:

```bash
docker exec ai-call-local-asterisk asterisk -rx "channel originate Local/500@internal-test"
```

**–í–∞—Ä–∏–∞–Ω—Ç 3:** –í–µ–±-—Ç–µ—Å—Ç:

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000
2. –ù–∞–∂–º–∏—Ç–µ "–¢–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫"
3. –í–≤–µ–¥–∏—Ç–µ: "–ú–µ–Ω—ñ“£ –º–∞—à–∏–Ω–∞–º “±—Ä–ª–∞–Ω–¥—ã"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üêõ –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–±–ª–µ–º–∞: Zadarma –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
docker logs ai-call-local-asterisk | grep -i zadarma

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
docker exec ai-call-local-asterisk cat /etc/asterisk/zadarma.conf
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∑–≤—É–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥–µ–∫–∏
docker exec ai-call-local-asterisk asterisk -rx "core show translation"

# Zadarma –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç: ulaw, alaw, gsm
```

### –ü—Ä–æ–±–ª–µ–º–∞: Dashboard –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dashboard
docker restart ai-call-local-dashboard
```

## üìû –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –°–ò–°–¢–ï–ú–ê

```
–¢–µ–ª–µ—Ñ–æ–Ω ‚Üí Zadarma ‚Üí –í–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä ‚Üí AI –∞–Ω–∞–ª–∏–∑ ‚Üí Dashboard
    ‚Üì
  –†–µ–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä    –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä    –ò–ò –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è   –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

## ‚úÖ –ß–¢–û –î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨ –ü–û–°–õ–ï –ù–ê–°–¢–†–û–ô–ö–ò

- [ ] http://localhost:5000 –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] Zadarma –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Registered" –≤ —Å—Ç–∞—Ç—É—Å–µ
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] AI –æ—Ç–≤–µ—á–∞–µ—Ç –≥–æ–ª–æ—Å–æ–º
- [ ] –ó–≤–æ–Ω–æ–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ dashboard
- [ ] JSON –æ—Ç—á–µ—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è

## üÜò –ü–û–ú–û–©–¨

### Zadarma –ø–æ–¥–¥–µ—Ä–∂–∫–∞:

- **–ß–∞—Ç –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ**: https://my.zadarma.com/
- **Email**: support@zadarma.com
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://zadarma.com/ru/support/

### AI —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞:

- **–õ–æ–≥–∏**: `docker logs ai-call-local-asterisk`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `asterisk/config/` –ø–∞–ø–∫–∞
- **Dashboard**: http://localhost:5000/admin (–ª–æ–≥–∏–Ω: admin, –ø–∞—Ä–æ–ª—å: ChangeMe123!)

## üéØ –ö–û–†–û–¢–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É
./run_local_free.sh start

# 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Zadarma
./setup_zadarma.sh

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
docker exec ai-call-local-asterisk asterisk -rx "sip show registry"

# 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ
# –ü–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Zadarma –Ω–æ–º–µ—Ä
```

**–ì–æ—Ç–æ–≤–æ! –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–≤–æ–Ω–∫–∏ —á–µ—Ä–µ–∑ –≤–∞—à Zadarma –Ω–æ–º–µ—Ä –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö —Å –ø–æ–º–æ—â—å—é –ò–ò.**
